# Place all the behaviors and hooks related to the matching controller here.
# All this logic will automatically be available in application.js.
# You can use CoffeeScript in this file: http://coffeescript.org/

@editCategoryColorSchemeChange = (obj) ->
	foreground = "black"
	background = "white"
	name = "Default"
	<% ColorScheme.all.each do |cs| %>
	if obj.options[obj.selectedIndex].value == "<%= cs.id %>"
		foreground = "<%= cs.foreground %>"
		background = "<%= cs.background %>"
		name = "<%= cs.name %>"
	<% end %>
	
	# $("#editCategoryColorSchemeExample").html name

	# $.getJSON "/get_color_sample.js",  (data) ->
	# 	console.log data
	# 	alert data 


	$.ajax "/get_color_sample.json", 
		type: "GET"
		data: {"color_scheme_id" : obj.options[obj.selectedIndex].value}
		# dataType: "json"
		success: (data) ->
			$("#editCategoryColorSchemeExample").html data.example
			$("#editCategoryColorSchemeName").html data.name
		error: (jqXHR, textStatus, errorThrown) ->
        	alert "error " + errorThrown
